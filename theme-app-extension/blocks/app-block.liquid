<test>
  <link rel="stylesheet" href="https://cdn.ayroui.com/1.0/css/bootstrap.min.css"/>
  <link href="https://cdn.lineicons.com/3.0/lineicons.css" rel="stylesheet"/>
  <link rel="stylesheet" href="https://cdn.ayroui.com/1.0/css/starter.css"/>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous"/>
  <script async src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM" crossorigin="anonymous"></script>

  <p id="faq-title" style="font-size: 50px;background-color: {{ block.settings.faq-bg-color }}; color: {{ block.settings.faq-font-color }}; font-family: {{ block.settings.faq-font }},sans-serif;">
    {{ block.settings.heading }}
  </p>
  {%- comment -%}
    <div class="accordion" id="faqAc">
    <div class="accordion-item">
    <h2 class="accordion-header" id="headingOne">
    <button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapseOne" aria-expanded="true" aria-controls="collapseOne">
    where
    </button>
    </h2>
    <div id="collapseOne" class="accordion-collapse collapse show" aria-labelledby="headingOne" data-bs-parent="#accordionExample">
    <div class="accordion-body">
    yes
    </div>
    </div>
    </div>
    </div>{%- endcomment -%}
  <dl id="faq" style="list-style: none;"></dl>
  <script>
    fetch("http://localhost:34231/api/v1/faq/getContent/" + {{ block.settings.faq }}).then((res) => res.json()).then((data) => {
      console.log(data)
      data.data.map((item, index) => {
        index = index + 1
        let newdt = document.createElement("dt");
        let newdd = document.createElement("dd");
        newdd.setAttribute("style", "margin-left: 30px;");
        let que = document.createTextNode(index + ". " + item.question);
        let ans = document.createTextNode(item.answer);
        newdt.appendChild(que);
        newdd.innerHTML = item.answer;
        document.getElementById("faq").appendChild(newdt);
        document.getElementById("faq").appendChild(newdd);
      })
    })
  </script>
</test>


{% schema %}
  {
    "name": "FAQ section",
    "target": "section",
    "stylesheet": "image-gallery.css",
    "javascript": "test.js",
    "templates": [
      "product", "index"
    ],
    "settings": [
      {
        "type": "text",
        "id": "heading",
        "label": "Heading",
        "default": "FAQ heading"
      },
      {
        "type": "color",
        "id": "faq-bg-color",
        "label": "Heading Background Color",
        "default": "#7CDCB9"
      },
      {
        "type": "color",
        "id": "faq-font-color",
        "label": "Title Color",
        "default": "#fff"
      },
      {
        "type": "font_picker",
        "id": "faq-font",
        "label": "Font Family",
        "default": "serif"
      }, {
        "type": "select",
        "id": "faq",
        "options": [
          {
            "label": "Home FAQ",
            "value": "21"
          }, {
            "label": "About Us FAQ",
            "value": "4"
          }, {
            "label": "Contact Us FAQ",
            "value": "10"
          }
        ],
        "default": "21",
        "label": "Select FAQ:"
      }
    ]
  }
{% endschema %}
